{"version":3,"sources":["webpack:///build.js","webpack:///webpack/bootstrap 422f4daa8eba63af49d1","webpack:///./app.js","webpack:///./Observer/pubsub.js","webpack:///./Strategy/strategy.js","webpack:///./Strategy/validator.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pubSub","subscribe","console","log","trigger","PubSubscriber","subscribers","eventName","handler","this","push","unSubscribe","fn","fns","length","s","len","splice","evtName","prototype","shift","arguments","i","apply","strategies","mobile_reg","email_reg","isNonEmpty","val","errMsg","minLength","isMobile","test","isEmail","Validator","rules","strategy","add","dom","rule","argArr","split","strategyName","unshift","value","valid","msg"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,QAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GEzChC,GAAAW,GAAAX,EAAA,EACAA,GAAA,GACAA,EAAA,EAEAW,GAAAC,UAAA,0BACAC,QAAAC,IAAA,sBAEAH,EAAAC,UAAA,0BACAC,QAAAC,IAAA,6BACAD,QAAAC,IAAA,sBAGAH,EAAAI,QAAA,iBFkDM,SAASX,EAAQD,GG9DvB,GAAAa,KACAA,GAAAC,eACAD,EAAAJ,UAAA,SAAAM,EAAAC,GAEAD,IACAE,KAAAH,YAAAC,KACAE,KAAAH,YAAAC,OAEAE,KAAAH,YAAAC,GAAAG,KAAAF,KAGAH,EAAAM,YAAA,SAAAJ,EAAAK,GAEA,GAAAL,EAAA,CACA,GAAAM,GAAAJ,KAAAR,UAAAM,EACA,IAAAM,KAAAC,OAAA,EACA,GAAAF,EAGA,OAAAG,GAAA,EAAAC,EAAAH,EAAAC,OAAgDE,EAAAD,EAAQA,GAAA,EACxDF,EAAAE,KAAAH,GACAC,EAAAI,OAAAF,EAAA,OAJAF,QAWAR,EAAAD,QAAA,WAIA,OAFAc,MAAAC,UAAAC,MAAAxB,KAAAyB,WACAR,EAAAJ,KAAAH,YAAAY,GACAI,EAAA,EAAAN,EAAAH,EAAAC,OAAoCE,EAAAM,EAASA,GAAA,EAC7CT,EAAAS,GAAAC,MAAAd,KAAAY,YAGA5B,EAAAD,QAAAa,GHuEM,SAASZ,EAAQD,KAmCjB,SAASC,EAAQD,GI1IvB,GAAAgC,GAAA,WACA,GAAAC,GAAA,qBACAC,EAAA,gEACA,QACAC,WAAA,SAAAC,EAAAC,GACA,WAAAD,GAAA,OAAAA,EACAC,IAAA,GAEA,GAEAC,UAAA,SAAAF,EAAAd,EAAAe,GACA,MAAAD,GAAAd,SACAe,IAAA,GAEA,GAEAE,SAAA,SAAAH,EAAAC,GACA,MAAAJ,GAAAO,KAAAJ,IAGA,EAFAC,IAAA,GAIAI,QAAA,SAAAL,EAAAC,GACA,MAAAH,GAAAM,KAAAJ,IAGA,EAFAC,IAAA,MAMApC,GAAAD,QAAAgC,GJuJM,SAAS/B,EAAQD,EAASH,GKxLhC,QAAA6C,KACAzB,KAAA0B,SAFA,GAAAC,GAAA/C,EAAA,EAIA6C,GAAAf,UAAAkB,IAAA,SAAAC,EAAAC,EAAAV,GACA,qBAAAU,GAKA,WAHA9B,MAAA0B,MAAAzB,KAAA,WACA6B,KAKA,IAAAC,GAAAD,EAAAE,MAAA,KAEAC,EAAAF,EAAApB,OAEAoB,GAAAG,QAAAL,EAAAM,OACAJ,EAAA9B,KAAAmB,GACApB,KAAA0B,MAAAzB,KAAA,WACA0B,EAAAM,GAAAnB,MAAAe,EAAAE,MAGAN,EAAAf,UAAA0B,MAAA,WACA,OAAAvB,GAAA,EAAAN,EAAAP,KAAA0B,MAAArB,OAA2CE,EAAAM,EAAQA,GAAA,GAEnD,GAAAwB,GAAArC,KAAA0B,MAAAb,IACA,OAAAwB,MAAA,GAAAA,KAAA,EAEAA,GAEA","file":"build.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Created by Administrator on 2015/10/12.\r\n\t */\r\n\tvar pubSub = __webpack_require__(1),\r\n\t    singleton = __webpack_require__(2),\r\n\t    validator = __webpack_require__(4);\r\n\t\r\n\tpubSub.subscribe('testObserver',function(){\r\n\t    console.log('publisher 发布消息了!');\r\n\t});\r\n\tpubSub.subscribe('testObserver',function(){\r\n\t    console.log('=====这是发给另一个订阅者的消息!======');\r\n\t    console.log('publisher 发布消息了!');\r\n\t});\r\n\t//发布者发布消息\r\n\tpubSub.trigger('testObserver');\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/**\r\n\t * Created by Administrator on 2015/10/12.\r\n\t */\r\n\tvar PubSubscriber = {};\r\n\tPubSubscriber.subscribers = [];\r\n\tPubSubscriber.subscribe = function(eventName, handler){\r\n\t    //订阅名称为eventName的消息\r\n\t    if(eventName){\r\n\t        if(!this.subscribers[eventName]){\r\n\t            this.subscribers[eventName] = [];\r\n\t        }\r\n\t        this.subscribers[eventName].push(handler);\r\n\t    }\r\n\t};\r\n\tPubSubscriber.unSubscribe = function(eventName, fn){\r\n\t    //取消订阅某类事件\r\n\t    if(eventName){\r\n\t        var fns = this.subscribe[eventName];\r\n\t        if(fns && fns.length>0){\r\n\t            if(!fn){\r\n\t                fns = [];\r\n\t            }else{\r\n\t                for(var s = 0, len = fns.length;s < len;s += 1){\r\n\t                    if(fns[s] === fn){\r\n\t                        fns.splice(s,1);\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t};\r\n\tPubSubscriber.trigger = function(){\r\n\t    //发布某类消息\r\n\t    var evtName = [].prototype.shift.call(arguments),\r\n\t        fns = this.subscribers[evtName];\r\n\t    for(var i = 0, len = fns.length;i < len ;i += 1){\r\n\t        fns[i].apply(this, arguments);\r\n\t    }\r\n\t};\r\n\tmodule.exports = PubSubscriber;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t/**\r\n\t * Created by Administrator on 2015/9/28.\r\n\t */\r\n\t/**\r\n\t * Created by Administrator on 2015/9/28.\r\n\t */\r\n\t/*\r\n\t * JS 单例模式\r\n\t * @desc 获取单例对象\r\n\t * @param {function or object} createObjFn 创建对象的function 或者 直接传递对象\r\n\t * @return 返回单例对象\r\n\t * */\r\n\tvar getSingleton = function(createObjFn){\r\n\t    var toString = Object.prototype.toString,\r\n\t        isFunction = function(fn){ return toString.call(fn) === \"[object Function]\";},\r\n\t        isObject  = function(fn){ return toString.call(fn) === \"[object Object]\";},\r\n\t        instance;\r\n\t    /*\r\n\t     此函数只管理单例，至于对象实例的创建则通过参数传递进来，使得对象的创建和管理\r\n\t     单例的职责可以独立变化而互不影响，符合单一职责原则，也利于程序维护(以后需要\r\n\t     多考虑程序的可维护性，保持低耦合)。\r\n\t     */\r\n\t    if(!isFunction(createObjFn) && !isObject(createObjFn)){\r\n\t        return null;\r\n\t    }\r\n\t    return function(){\r\n\t        //返回单例\r\n\t        return instance || (instance = createObjFn.apply(this,arguments));\r\n\t    };\r\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/**\r\n\t * Created by Administrator on 2015/10/10.\r\n\t */\r\n\t/**\r\n\t * @desc 表单验证常用的策略类\r\n\t * @type {{isNonEmpty, minLength, isMobile, isEmail}}\r\n\t */\r\n\tvar strategies = (function(){\r\n\t    var mobile_reg = /^1[3|5|8][0-9]{9}$/,\r\n\t        email_reg = /^[A-Za-zd]+([-_.][A-Za-zd]+)*@([A-Za-zd]+[-.])+[A-Za-zd]{2,5}$/;\r\n\t    return {\r\n\t        isNonEmpty: function(val, errMsg){\r\n\t            if(val === '' || val === null){\r\n\t                return errMsg || false;\r\n\t            }\r\n\t            return true;\r\n\t        },\r\n\t        minLength: function(val, length, errMsg){\r\n\t            if(val.length < length){\r\n\t                return errMsg || false;\r\n\t            }\r\n\t            return true;\r\n\t        },\r\n\t        isMobile: function(val, errMsg){\r\n\t            if(!mobile_reg.test(val)){\r\n\t                return errMsg || false;\r\n\t            }\r\n\t            return true;\r\n\t        },\r\n\t        isEmail: function(val, errMsg){\r\n\t            if(!email_reg.test(val)){\r\n\t                return errMsg || false;\r\n\t            }\r\n\t            return true;\r\n\t        }\r\n\t    };\r\n\t}());\r\n\tmodule.exports = strategies;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Created by Administrator on 2015/10/10.\r\n\t */\r\n\tvar strategy = __webpack_require__(3);\r\n\tfunction Validator(){\r\n\t    this.rules  = [];\r\n\t}\r\n\tValidator.prototype.add = function(dom, rule, errMsg){\r\n\t    if(typeof rule === 'function'){\r\n\t        //支持自定义校验函数\r\n\t        this.rules.push(function(){\r\n\t            rule();\r\n\t        });\r\n\t        return;\r\n\t    }\r\n\t    //用户传递的rule参数的格式为-> strategy:parameter这种格式\r\n\t    var argArr = rule.split(':');\r\n\t    //弹出用户挑选的校验策略\r\n\t    var strategyName = argArr.shift();\r\n\t    //将dom的value值作为参数传递到校验策略寒素中去\r\n\t    argArr.unshift(dom.value);\r\n\t    argArr.push(errMsg);\r\n\t    this.rules.push(function(){\r\n\t        strategy[strategyName].apply(dom, argArr);\r\n\t    });\r\n\t};\r\n\tValidator.prototype.valid = function(){\r\n\t    for(var i = 0, len = this.rules.length;i < len;i += 1){\r\n\t        //开始校验，并取得校验返回的信息\r\n\t        var msg = this.rules[i]();\r\n\t        if(msg === false || msg !== true){\r\n\t            //说明校验没有通过\r\n\t            return msg;\r\n\t        }else{\r\n\t            return true;\r\n\t        }\r\n\t    }\r\n\t};\r\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** build.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 422f4daa8eba63af49d1\n **/","/**\r\n * Created by Administrator on 2015/10/12.\r\n */\r\nvar pubSub = require('Observer/pubsub'),\r\n    singleton = require('Singleton/singleton'),\r\n    validator = require('Strategy/validator');\r\n\r\npubSub.subscribe('testObserver',function(){\r\n    console.log('publisher 发布消息了!');\r\n});\r\npubSub.subscribe('testObserver',function(){\r\n    console.log('=====这是发给另一个订阅者的消息!======');\r\n    console.log('publisher 发布消息了!');\r\n});\r\n//发布者发布消息\r\npubSub.trigger('testObserver');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\r\n * Created by Administrator on 2015/10/12.\r\n */\r\nvar PubSubscriber = {};\r\nPubSubscriber.subscribers = [];\r\nPubSubscriber.subscribe = function(eventName, handler){\r\n    //订阅名称为eventName的消息\r\n    if(eventName){\r\n        if(!this.subscribers[eventName]){\r\n            this.subscribers[eventName] = [];\r\n        }\r\n        this.subscribers[eventName].push(handler);\r\n    }\r\n};\r\nPubSubscriber.unSubscribe = function(eventName, fn){\r\n    //取消订阅某类事件\r\n    if(eventName){\r\n        var fns = this.subscribe[eventName];\r\n        if(fns && fns.length>0){\r\n            if(!fn){\r\n                fns = [];\r\n            }else{\r\n                for(var s = 0, len = fns.length;s < len;s += 1){\r\n                    if(fns[s] === fn){\r\n                        fns.splice(s,1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nPubSubscriber.trigger = function(){\r\n    //发布某类消息\r\n    var evtName = [].prototype.shift.call(arguments),\r\n        fns = this.subscribers[evtName];\r\n    for(var i = 0, len = fns.length;i < len ;i += 1){\r\n        fns[i].apply(this, arguments);\r\n    }\r\n};\r\nmodule.exports = PubSubscriber;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./Observer/pubsub.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\r\n * Created by Administrator on 2015/10/10.\r\n */\r\n/**\r\n * @desc 表单验证常用的策略类\r\n * @type {{isNonEmpty, minLength, isMobile, isEmail}}\r\n */\r\nvar strategies = (function(){\r\n    var mobile_reg = /^1[3|5|8][0-9]{9}$/,\r\n        email_reg = /^[A-Za-zd]+([-_.][A-Za-zd]+)*@([A-Za-zd]+[-.])+[A-Za-zd]{2,5}$/;\r\n    return {\r\n        isNonEmpty: function(val, errMsg){\r\n            if(val === '' || val === null){\r\n                return errMsg || false;\r\n            }\r\n            return true;\r\n        },\r\n        minLength: function(val, length, errMsg){\r\n            if(val.length < length){\r\n                return errMsg || false;\r\n            }\r\n            return true;\r\n        },\r\n        isMobile: function(val, errMsg){\r\n            if(!mobile_reg.test(val)){\r\n                return errMsg || false;\r\n            }\r\n            return true;\r\n        },\r\n        isEmail: function(val, errMsg){\r\n            if(!email_reg.test(val)){\r\n                return errMsg || false;\r\n            }\r\n            return true;\r\n        }\r\n    };\r\n}());\r\nmodule.exports = strategies;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./Strategy/strategy.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\r\n * Created by Administrator on 2015/10/10.\r\n */\r\nvar strategy = require('strategy');\r\nfunction Validator(){\r\n    this.rules  = [];\r\n}\r\nValidator.prototype.add = function(dom, rule, errMsg){\r\n    if(typeof rule === 'function'){\r\n        //支持自定义校验函数\r\n        this.rules.push(function(){\r\n            rule();\r\n        });\r\n        return;\r\n    }\r\n    //用户传递的rule参数的格式为-> strategy:parameter这种格式\r\n    var argArr = rule.split(':');\r\n    //弹出用户挑选的校验策略\r\n    var strategyName = argArr.shift();\r\n    //将dom的value值作为参数传递到校验策略寒素中去\r\n    argArr.unshift(dom.value);\r\n    argArr.push(errMsg);\r\n    this.rules.push(function(){\r\n        strategy[strategyName].apply(dom, argArr);\r\n    });\r\n};\r\nValidator.prototype.valid = function(){\r\n    for(var i = 0, len = this.rules.length;i < len;i += 1){\r\n        //开始校验，并取得校验返回的信息\r\n        var msg = this.rules[i]();\r\n        if(msg === false || msg !== true){\r\n            //说明校验没有通过\r\n            return msg;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./Strategy/validator.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}